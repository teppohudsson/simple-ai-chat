"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/stream/route";
exports.ids = ["app/api/chat/stream/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Fstream%2Froute&page=%2Fapi%2Fchat%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Fstream%2Froute.ts&appDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Fstream%2Froute&page=%2Fapi%2Fchat%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Fstream%2Froute.ts&appDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_teppo_hudsson_xcode_recordly_simple_ai_chat_src_app_api_chat_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/stream/route.ts */ \"(rsc)/./src/app/api/chat/stream/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/stream/route\",\n        pathname: \"/api/chat/stream\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/stream/route\"\n    },\n    resolvedPagePath: \"/Users/teppo.hudsson/xcode/recordly-simple-ai-chat/src/app/api/chat/stream/route.ts\",\n    nextConfigOutput,\n    userland: _Users_teppo_hudsson_xcode_recordly_simple_ai_chat_src_app_api_chat_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/stream/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGc3RyZWFtJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGc3RyZWFtJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnN0cmVhbSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRlcHBvLmh1ZHNzb24lMkZ4Y29kZSUyRnJlY29yZGx5LXNpbXBsZS1haS1jaGF0JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRlcHBvLmh1ZHNzb24lMkZ4Y29kZSUyRnJlY29yZGx5LXNpbXBsZS1haS1jaGF0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQztBQUNoSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY29yZGx5LXNpbXBsZS1haS1jaGF0Lz81N2FhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy90ZXBwby5odWRzc29uL3hjb2RlL3JlY29yZGx5LXNpbXBsZS1haS1jaGF0L3NyYy9hcHAvYXBpL2NoYXQvc3RyZWFtL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGF0L3N0cmVhbS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXQvc3RyZWFtXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3N0cmVhbS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy90ZXBwby5odWRzc29uL3hjb2RlL3JlY29yZGx5LXNpbXBsZS1haS1jaGF0L3NyYy9hcHAvYXBpL2NoYXQvc3RyZWFtL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGF0L3N0cmVhbS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Fstream%2Froute&page=%2Fapi%2Fchat%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Fstream%2Froute.ts&appDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/stream/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/chat/stream/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_openrouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/openrouter */ \"(rsc)/./src/lib/openrouter.ts\");\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate request\n        if (!body.model || !body.messages || !Array.isArray(body.messages)) {\n            return new Response(JSON.stringify({\n                error: \"Invalid request format\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // Check if API key is configured\n        if (!process.env.OPENROUTER_API_KEY) {\n            return new Response(JSON.stringify({\n                error: \"OpenRouter API key not configured\"\n            }), {\n                status: 500,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // Create OpenRouter client and stream response\n        const client = (0,_lib_openrouter__WEBPACK_IMPORTED_MODULE_0__.createOpenRouterClient)();\n        const encoder = new TextEncoder();\n        const stream = new ReadableStream({\n            async start (controller) {\n                try {\n                    for await (const chunk of client.sendMessageStream(body)){\n                        const data = `data: ${JSON.stringify(chunk)}\\n\\n`;\n                        controller.enqueue(encoder.encode(data));\n                    }\n                    controller.enqueue(encoder.encode(\"data: [DONE]\\n\\n\"));\n                    controller.close();\n                } catch (error) {\n                    console.error(\"Streaming error:\", error);\n                    const errorData = `data: ${JSON.stringify({\n                        error: error instanceof Error ? error.message : \"Streaming error\"\n                    })}\\n\\n`;\n                    controller.enqueue(encoder.encode(errorData));\n                    controller.close();\n                }\n            }\n        });\n        return new Response(stream, {\n            headers: {\n                \"Content-Type\": \"text/event-stream\",\n                \"Cache-Control\": \"no-cache\",\n                \"Connection\": \"keep-alive\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\n                \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Chat stream API error:\", error);\n        return new Response(JSON.stringify({\n            error: error instanceof Error ? error.message : \"Internal server error\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3N0cmVhbS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUN5RDtBQUdsRCxlQUFlQyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBb0IsTUFBTUQsUUFBUUUsSUFBSTtRQUU1QyxtQkFBbUI7UUFDbkIsSUFBSSxDQUFDRCxLQUFLRSxLQUFLLElBQUksQ0FBQ0YsS0FBS0csUUFBUSxJQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0wsS0FBS0csUUFBUSxHQUFHO1lBQ2xFLE9BQU8sSUFBSUcsU0FDVEMsS0FBS0MsU0FBUyxDQUFDO2dCQUFFQyxPQUFPO1lBQXlCLElBQ2pEO2dCQUNFQyxRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7WUFDaEQ7UUFFSjtRQUVBLGlDQUFpQztRQUNqQyxJQUFJLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0Msa0JBQWtCLEVBQUU7WUFDbkMsT0FBTyxJQUFJUixTQUNUQyxLQUFLQyxTQUFTLENBQUM7Z0JBQUVDLE9BQU87WUFBb0MsSUFDNUQ7Z0JBQ0VDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtZQUNoRDtRQUVKO1FBRUEsK0NBQStDO1FBQy9DLE1BQU1JLFNBQVNsQix1RUFBc0JBO1FBRXJDLE1BQU1tQixVQUFVLElBQUlDO1FBRXBCLE1BQU1DLFNBQVMsSUFBSUMsZUFBZTtZQUNoQyxNQUFNQyxPQUFNQyxVQUFVO2dCQUNwQixJQUFJO29CQUNGLFdBQVcsTUFBTUMsU0FBU1AsT0FBT1EsaUJBQWlCLENBQUN2QixNQUFPO3dCQUN4RCxNQUFNd0IsT0FBTyxDQUFDLE1BQU0sRUFBRWpCLEtBQUtDLFNBQVMsQ0FBQ2MsT0FBTyxJQUFJLENBQUM7d0JBQ2pERCxXQUFXSSxPQUFPLENBQUNULFFBQVFVLE1BQU0sQ0FBQ0Y7b0JBQ3BDO29CQUNBSCxXQUFXSSxPQUFPLENBQUNULFFBQVFVLE1BQU0sQ0FBQztvQkFDbENMLFdBQVdNLEtBQUs7Z0JBQ2xCLEVBQUUsT0FBT2xCLE9BQU87b0JBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLG9CQUFvQkE7b0JBQ2xDLE1BQU1vQixZQUFZLENBQUMsTUFBTSxFQUFFdEIsS0FBS0MsU0FBUyxDQUFDO3dCQUN4Q0MsT0FBT0EsaUJBQWlCcUIsUUFBUXJCLE1BQU1zQixPQUFPLEdBQUc7b0JBQ2xELEdBQUcsSUFBSSxDQUFDO29CQUNSVixXQUFXSSxPQUFPLENBQUNULFFBQVFVLE1BQU0sQ0FBQ0c7b0JBQ2xDUixXQUFXTSxLQUFLO2dCQUNsQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPLElBQUlyQixTQUFTWSxRQUFRO1lBQzFCUCxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsaUJBQWlCO2dCQUNqQixjQUFjO2dCQUNkLCtCQUErQjtnQkFDL0IsZ0NBQWdDO2dCQUNoQyxnQ0FBZ0M7WUFDbEM7UUFDRjtJQUNGLEVBQUUsT0FBT0YsT0FBTztRQUNkbUIsUUFBUW5CLEtBQUssQ0FBQywwQkFBMEJBO1FBRXhDLE9BQU8sSUFBSUgsU0FDVEMsS0FBS0MsU0FBUyxDQUFDO1lBQ2JDLE9BQU9BLGlCQUFpQnFCLFFBQVFyQixNQUFNc0IsT0FBTyxHQUFHO1FBQ2xELElBQ0E7WUFDRXJCLFFBQVE7WUFDUkMsU0FBUztnQkFBRSxnQkFBZ0I7WUFBbUI7UUFDaEQ7SUFFSjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjb3JkbHktc2ltcGxlLWFpLWNoYXQvLi9zcmMvYXBwL2FwaS9jaGF0L3N0cmVhbS9yb3V0ZS50cz9iZmRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjcmVhdGVPcGVuUm91dGVyQ2xpZW50IH0gZnJvbSAnQC9saWIvb3BlbnJvdXRlcidcbmltcG9ydCB7IENoYXRSZXF1ZXN0IH0gZnJvbSAnQC9saWIvdHlwZXMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keTogQ2hhdFJlcXVlc3QgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3RcbiAgICBpZiAoIWJvZHkubW9kZWwgfHwgIWJvZHkubWVzc2FnZXMgfHwgIUFycmF5LmlzQXJyYXkoYm9keS5tZXNzYWdlcykpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdJbnZhbGlkIHJlcXVlc3QgZm9ybWF0JyB9KSxcbiAgICAgICAgeyBcbiAgICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgQVBJIGtleSBpcyBjb25maWd1cmVkXG4gICAgaWYgKCFwcm9jZXNzLmVudi5PUEVOUk9VVEVSX0FQSV9LRVkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdPcGVuUm91dGVyIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQnIH0pLFxuICAgICAgICB7IFxuICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgT3BlblJvdXRlciBjbGllbnQgYW5kIHN0cmVhbSByZXNwb25zZVxuICAgIGNvbnN0IGNsaWVudCA9IGNyZWF0ZU9wZW5Sb3V0ZXJDbGllbnQoKVxuICAgIFxuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKVxuICAgIFxuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBjbGllbnQuc2VuZE1lc3NhZ2VTdHJlYW0oYm9keSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBgZGF0YTogJHtKU09OLnN0cmluZ2lmeShjaHVuayl9XFxuXFxuYFxuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGRhdGEpKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoJ2RhdGE6IFtET05FXVxcblxcbicpKVxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmVhbWluZyBlcnJvcjonLCBlcnJvcilcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1N0cmVhbWluZyBlcnJvcicgXG4gICAgICAgICAgfSl9XFxuXFxuYFxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShlcnJvckRhdGEpKVxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2Uoc3RyZWFtLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9ldmVudC1zdHJlYW0nLFxuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScsXG4gICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyxcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJyxcbiAgICAgIH0sXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDaGF0IHN0cmVhbSBBUEkgZXJyb3I6JywgZXJyb3IpXG4gICAgXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIFxuICAgICAgfSksXG4gICAgICB7IFxuICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVPcGVuUm91dGVyQ2xpZW50IiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsIm1vZGVsIiwibWVzc2FnZXMiLCJBcnJheSIsImlzQXJyYXkiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsInN0YXR1cyIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiT1BFTlJPVVRFUl9BUElfS0VZIiwiY2xpZW50IiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwic3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJzdGFydCIsImNvbnRyb2xsZXIiLCJjaHVuayIsInNlbmRNZXNzYWdlU3RyZWFtIiwiZGF0YSIsImVucXVldWUiLCJlbmNvZGUiLCJjbG9zZSIsImNvbnNvbGUiLCJlcnJvckRhdGEiLCJFcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/stream/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/openrouter.ts":
/*!*******************************!*\
  !*** ./src/lib/openrouter.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenRouterClient: () => (/* binding */ OpenRouterClient),\n/* harmony export */   createOpenRouterClient: () => (/* binding */ createOpenRouterClient)\n/* harmony export */ });\nconst OPENROUTER_API_URL = \"https://openrouter.ai/api/v1/chat/completions\";\nclass OpenRouterClient {\n    constructor(apiKey){\n        this.apiKey = apiKey;\n    }\n    async sendMessage(request) {\n        const response = await fetch(OPENROUTER_API_URL, {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${this.apiKey}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(request)\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(`OpenRouter API error: ${response.status} ${response.statusText}. ${errorData.error?.message || \"Unknown error\"}`);\n        }\n        return response.json();\n    }\n    async *sendMessageStream(request) {\n        const response = await fetch(OPENROUTER_API_URL, {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${this.apiKey}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                ...request,\n                stream: true\n            })\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(`OpenRouter API error: ${response.status} ${response.statusText}. ${errorData.error?.message || \"Unknown error\"}`);\n        }\n        const reader = response.body?.getReader();\n        if (!reader) {\n            throw new Error(\"No response body reader available\");\n        }\n        const decoder = new TextDecoder();\n        let buffer = \"\";\n        try {\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                buffer += decoder.decode(value, {\n                    stream: true\n                });\n                const lines = buffer.split(\"\\n\");\n                buffer = lines.pop() || \"\";\n                for (const line of lines){\n                    const trimmedLine = line.trim();\n                    if (trimmedLine.startsWith(\"data: \")) {\n                        const data = trimmedLine.slice(6);\n                        if (data === \"[DONE]\") {\n                            return;\n                        }\n                        try {\n                            const chunk = JSON.parse(data);\n                            yield chunk;\n                        } catch (e) {\n                            // Skip invalid JSON chunks\n                            console.warn(\"Invalid JSON chunk:\", data);\n                        }\n                    }\n                }\n            }\n        } finally{\n            reader.releaseLock();\n        }\n    }\n}\nconst createOpenRouterClient = ()=>{\n    const apiKey = process.env.OPENROUTER_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"OPENROUTER_API_KEY environment variable is required\");\n    }\n    return new OpenRouterClient(apiKey);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TTdDLFNBQVM4QyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQjtJQUU3QyxJQUFJLENBQUNoRCxRQUFRO1FBQ1gsTUFBTSxJQUFJYyxNQUFNO0lBQ2xCO0lBRUEsT0FBTyxJQUFJaEIsaUJBQWlCRTtBQUM5QixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjb3JkbHktc2ltcGxlLWFpLWNoYXQvLi9zcmMvbGliL29wZW5yb3V0ZXIudHM/Mzc5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0UmVxdWVzdCwgQ2hhdFJlc3BvbnNlLCBTdHJlYW1pbmdDaHVuayB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBPUEVOUk9VVEVSX0FQSV9VUkwgPSAnaHR0cHM6Ly9vcGVucm91dGVyLmFpL2FwaS92MS9jaGF0L2NvbXBsZXRpb25zJztcblxuZXhwb3J0IGNsYXNzIE9wZW5Sb3V0ZXJDbGllbnQge1xuICBwcml2YXRlIGFwaUtleTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gIH1cblxuICBhc3luYyBzZW5kTWVzc2FnZShyZXF1ZXN0OiBDaGF0UmVxdWVzdCk6IFByb21pc2U8Q2hhdFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChPUEVOUk9VVEVSX0FQSV9VUkwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgT3BlblJvdXRlciBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LiAke1xuICAgICAgICAgIGVycm9yRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcidcbiAgICAgICAgfWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuXG4gIGFzeW5jICpzZW5kTWVzc2FnZVN0cmVhbShyZXF1ZXN0OiBDaGF0UmVxdWVzdCk6IEFzeW5jR2VuZXJhdG9yPFN0cmVhbWluZ0NodW5rLCB2b2lkLCB1bmtub3duPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChPUEVOUk9VVEVSX0FQSV9VUkwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBPcGVuUm91dGVyIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uICR7XG4gICAgICAgICAgZXJyb3JEYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ1xuICAgICAgICB9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5Py5nZXRSZWFkZXIoKTtcbiAgICBpZiAoIXJlYWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBib2R5IHJlYWRlciBhdmFpbGFibGUnKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuXG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcblxuICAgICAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBsaW5lcyA9IGJ1ZmZlci5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGJ1ZmZlciA9IGxpbmVzLnBvcCgpIHx8ICcnO1xuXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgIGNvbnN0IHRyaW1tZWRMaW5lID0gbGluZS50cmltKCk7XG4gICAgICAgICAgaWYgKHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJ2RhdGE6ICcpKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdHJpbW1lZExpbmUuc2xpY2UoNik7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gJ1tET05FXScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgY2h1bms6IFN0cmVhbWluZ0NodW5rID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgeWllbGQgY2h1bms7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIFNraXAgaW52YWxpZCBKU09OIGNodW5rc1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgSlNPTiBjaHVuazonLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVPcGVuUm91dGVyQ2xpZW50ID0gKCk6IE9wZW5Sb3V0ZXJDbGllbnQgPT4ge1xuICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5PUEVOUk9VVEVSX0FQSV9LRVk7XG4gIFxuICBpZiAoIWFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT1BFTlJPVVRFUl9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIHJldHVybiBuZXcgT3BlblJvdXRlckNsaWVudChhcGlLZXkpO1xufTtcbiJdLCJuYW1lcyI6WyJPUEVOUk9VVEVSX0FQSV9VUkwiLCJPcGVuUm91dGVyQ2xpZW50IiwiY29uc3RydWN0b3IiLCJhcGlLZXkiLCJzZW5kTWVzc2FnZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJlcnJvciIsIm1lc3NhZ2UiLCJzZW5kTWVzc2FnZVN0cmVhbSIsInN0cmVhbSIsInJlYWRlciIsImdldFJlYWRlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImJ1ZmZlciIsImRvbmUiLCJ2YWx1ZSIsInJlYWQiLCJkZWNvZGUiLCJsaW5lcyIsInNwbGl0IiwicG9wIiwibGluZSIsInRyaW1tZWRMaW5lIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJkYXRhIiwic2xpY2UiLCJjaHVuayIsInBhcnNlIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwicmVsZWFzZUxvY2siLCJjcmVhdGVPcGVuUm91dGVyQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk9QRU5ST1VURVJfQVBJX0tFWSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/openrouter.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Fstream%2Froute&page=%2Fapi%2Fchat%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Fstream%2Froute.ts&appDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fteppo.hudsson%2Fxcode%2Frecordly-simple-ai-chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();